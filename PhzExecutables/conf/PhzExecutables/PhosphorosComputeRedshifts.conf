###############################################################################
#
# Confiruation file for the PhosphorosComputeRedshifts executable
#
# The configuration options are separated in the following sections:
#
# - Directory Management section
#   Contains options related with the top level directories of Phosphoros
#
# - Output Parameters section
#   Contains the parameters related with the output of the program
#
# - Input catalog section
#   Contains the parameters related with the input catalog
#
# - Model Photometries section
#   Contains options related with the photometries of the simulated models
#
# - Photometric Correction section
#   Contains options related with the photometric zero-point correction
#
# - Algorithm Configuration section
#   Contains options for controlling the algorithm used for the PHZ calculation
#
###############################################################################

###############################################################################
#
# Directory Management section
#
# Contains options related with the top level directories of Phosphoros. All
# relative paths declared in the other options in this file are relative to
# these ones.
#
# - phosphoros-root (optional)
#   The top level directory of Phosphoros. If this option is present, it
#   overrides the path set with the environment variable PHOSPHOROS_ROOT. If
#   both are missing, the default directory ~/Phosphoros is used. Note that the
#   recomended way to set the Phosphros root directory is the environment
#   variable. This option exists for cases this is not possible.
#
# - catalogs-dir (optional)
#   The directory containing the Phosphoros catalog files. If it is a relative
#   path, it is relative to the current working directory. The default is
#   <PHOSPHOROS_ROOT>/Catalogs
#
# - intermediate-products-dir (optional)
#   The directory containing all the files produced by Phosphoros which are not
#   the final photo-z products. If it is a relative path, it is relative to the
#   current working directory. The default is
#   <PHOSPHOROS_ROOT>/IntermediateProducts
#
# - results-dir (optional)
#   The directory where all the final photo-z products are stored. If it is a
#   relative path, it is relative to the current working directory. The default
#   is <PHOSPHOROS_ROOT>/Results
#
# - catalog-type
#   The name to use for grouping the catalog files and the Phosphoros products.
#   This option is mandatory.
#
###############################################################################

#phosphoros-root = ~/Phosphoros
#catalogs-dir = ~/Phosphoros/Catalogs
#intermediate-products-dir = ~/Phosphoros/IntermediateProducts
#results-dir = ~/Phosphoros/Results
catalog-type = Example


###############################################################################
#
# Output Parameters section
#
# Contains options related with the output of the program.
#
# - phz-output-dir (optional)
#   The directory to store the final photo-z products. If it is a relative path,
#   it is relative to the <RESULTS>/<CATALOG_NAME>/<CATALOG_FILE> directory,
#   which is also the default output directory.
# - create-output-catalog (optional)
#   Enables or disables the creation of the output catalog file. It can take
#   the values YES and NO (default). The output file is
#   <PHZ_OUTPUT_DIR>/phz_cat.<ext>. The <ext> depends on the catalog format.
# - output-catalog-format (optional)
#   The format of the best fitted models catalog. One of ASCII (default) or FITS
# - create-output-pdf (optional)
#   Enables or disables the creation of the 1D PDF file. It can take the values
#   YES and NO (default). The output file is <PHZ_OUTPUT_DIR>/pdf.fits
# - create-output-posteriors (optional)
#   Enables or disables the creation of the multi-dimensional posterior grids.
#   It can take the values YES and NO (default). The grids are stored in the
#   directory <PHZ_OUTPUT_DIR>/posteriors as one file per source, following the
#   naming convention "<SOURCE_ID>.fits". WARNING: The multi-dimensional
#   posterior grids can be relatively big files. Creating them for a detailed
#   parameter space or for many sources might require a lot of disk space.
#
###############################################################################

create-output-catalog = YES
#output-catalog-format = ASCII
#create-output-pdf = NO
#create-output-posteriors = NO


###############################################################################
#
# Input catalog section
#
# Contains the parameters related with the input catalog. This catalog contains
# photometry information.
#
# Generic catalog options:
# - input-catalog-file
#   The file containing the input catalog. If it is a relative path,
#   it is relative to the directory <CATALOGS_DIR>/<CATALOG_NAME>
# - input-catalog-format (optional)
#   The format of the input catalog. One of FITS or ASCII. It is optional and
#   defaults to automatic detection.
# - source-id-column-name (optional)
#   The name of the column representing the source ID
# - source-id-column-index (optional
#   The index (1-based) of the column representing the source ID
# Note: The source-id-column-name and source-id-column-index are mutually
# exclusive and if are both missing they default to the column with name "ID".
#
# Photometry options:
# - filter-mapping-file (optional)
#   The file defining the columns containing the photometric information for
#   each filter. It contain lines of the foramt:
#   Defines the columns containing the photometric information for a specific
#   filter. It uses # as comment character and contain lines which follow the
#   format:
#   FILTER_NAME  FLUX_COLUMN_NAME  ERROR_COLUMN_NAME
#   If the filter-mapping-file is a relative path, it is relative to the
#   directory <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME>. The default value is
#   <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME>/filter_mapping.txt
# - exclude-filter (optional)
#   Ignore the specified photometry during the calculation. Can appear more than
#   once cumulatively.
# - missing-photometry-flag (optional)
#   The missing photometry flag value (by default -99). If the flux column has
#   this value in the catalog, the photometry for this filter is treated as
#   missing(ignored for Chi square).
#
###############################################################################

input-catalog-file = test-cat.txt
#source-id-column-name = ID
#filter-mapping-file = filter_mapping.txt


###############################################################################
#
# Model Photometries section
#
# Contains options related with the photometries of the simulated models.
#
# - model-grid-file (optional)
#   The file containing the model photometries. This file should be created with
#   the PhosphorosComputeModelGrid executable. If it is a relative path, it is
#   relative to the <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME>/ModelGrids directory.
#   The default is
#   <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME>/ModelGrids/model_grid.dat
#
###############################################################################

#model-grid-file = model_grid.dat


###############################################################################
#
# Photometric Correction section
#
# Contains options related with the photometric zero-point correction.
#
# - enable-photometric-correction (optional)
#   Enables or disables the use of the photometric corrections. It can take the
#   values YES and NO (default).
# - photometric-correction-file (optional)
#   The file containing the photometric corrections for each filter, as created
#   with the PhosphorosComputePhotometricCorrections executable (or manually).
#   If it is a relative path, it is relative to the
#   <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME> directory. The default is
#   <INTERMEDIATE_PRODUCTS>/<CATALOG_NAME>/photometric_corrections.txt
#
###############################################################################

#enable-photometric-correction = NO
#photometric-correction-file = photometric_corrections.txt


###############################################################################
#
# Algorithm Configuration section
#
# Contains options for controlling the algorithm used for the PHZ calculation.
#
# Axes Collapse options:
# - axes-collapse-type
#   The method used for collapsing the multidimentional posterior to the 1D PDF.
#   The available options are:
#   SUM      : Simple sum of the probabilities of all models of the same redshift
#              NOTE: The SUM option assumes that all axes of the posterior
#              contain equally distributed values
#   MAX      : Maximum probability of all models of the same redhsift
#              NOTE: The MAX option does not follow beyesian statistics
#   BAYESIAN : Performs integration over the numerical axes. Currently non
#              numerical axes are assumed to contain equally distributed values.
#
###############################################################################

axes-collapse-type = BAYESIAN
